{% load forms %}

{% datetimepicker model="formItem.editing.when" field="MicrobiologyInput.when" %}
<div class="form-group">
  <label class="control-label col-sm-3">Initials</label>
  <div ng-class="{'has-error': form.$submitted && form.initials.$error}" class="col-sm-8">
    <input class="form-control" type="text" ng-model="formItem.editing.initials" autocomplete="off" name="initials" required="1" ng-maxlength="255">
  </div>
</div>
{% select model="formItem.editing.reason_for_interaction" field="MicrobiologyInput.reason_for_interaction" lookuplist="['ICN Ward Review']"%}

<div ng-controller="IPCFormAdviceHelper as ipcFormAdviceHelper">
  {% textarea model="formItem.editing.clinical_discussion" field="MicrobiologyInput.clinical_discussion" rows="30"%}
  <div class="row content-offset-below-10">
    <div class="col-sm-8 col-sm-offset-3">
      <a class="btn btn-default content-offset-below-10" ng-click="ipcFormAdviceHelper.addText(ipcFormAdviceHelper.MUPIROCIN_RESISTANT)">
        MRSA - Mupirocin res
      </a>
      <a class="btn btn-default content-offset-below-10" ng-click="ipcFormAdviceHelper.addText(ipcFormAdviceHelper.MUPIROCIN_SENSITIVE)">
        MRSA - Mupirocin sens
      </a>
      <a class="btn btn-default content-offset-below-10" ng-click="ipcFormAdviceHelper.addText(ipcFormAdviceHelper.C_DIFFICILE)">
        C. difficile
      </a>
      <a class="btn btn-default content-offset-below-10" ng-click="ipcFormAdviceHelper.addText(ipcFormAdviceHelper.CONTACT)">
        Contact
      </a>
      <a class="btn btn-default content-offset-below-10" ng-click="ipcFormAdviceHelper.addText(ipcFormAdviceHelper.RESPIRATORY)">
        Respiratory
      </a>
      <a class="btn btn-default content-offset-below-10" ng-click="ipcFormAdviceHelper.addText(ipcFormAdviceHelper.MULTI_RESISTANT)">
        Micro-organism - Multi-resistant
      </a>
      <a class="btn btn-default content-offset-below-10" ng-click="ipcFormAdviceHelper.addText(ipcFormAdviceHelper.COVID)">
        COVID
      </a>
    </div>
  </div>
</div>
{% textarea model="formItem.editing.agreed_plan" field="MicrobiologyInput.agreed_plan" %}
<div class="row">
  <div class="help-block col-md-8 col-md-push-3 text-center" ng-show="form.$submitted && form.initials.$error.required">
    <p class="text-danger">
      Initials are required
    </p>
  </div>
</div>
<div class="row">
  <div class="help-block col-md-8 col-md-push-3 text-center" ng-show="form.$submitted && form.initials.$error.maxlength">
    <p class="text-danger">
      The maximum length for initials is 255
    </p>
  </div>
</div>
